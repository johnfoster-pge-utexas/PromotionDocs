<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Foster Full Promotion Docs – teaching</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Foster Full Promotion Docs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="teaching.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></div>
<!-- main -->
<main class="content" id="quarto-document-content">



<p>I am a somewhat non-traditional teacher in that I rarely give a full 50/75 minute back-to-the-students blackboard-style lecture, preferring interactive project-based learning whenever possible. I have been an early adopter of the <em>reverse classroom</em> approach. I have developed a course in high-performance computing (HPC) for engineers in which all of the traditional lecture material is posted to YouTube and embedded in a course specific website that I developed. The students are then required to watch the videos<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> before attending class. Accompanying the videos are automatically graded quiz questions to ensure the students complete the videos and continuously provide a feedback assessment of their progress. I originally wrote the software for this automated quiz grading as well as developed the question bank and associated answers, and now am migrating the question bank to the Canvas system. The in-class part of the course is then offered in a computer lab where daily exercises are carried out in a way that offers students an opportunity to solve problems on their own with my immediate assistance when they need it. Independent projects replace tests in this course. Thus far I have created about 60 videos for this class. Interestingly, these videos are being watched more often by others, outside of the formal classroom. They currently have over 230K unique views representing more than 800K minutes of viewing on YouTube from interested people in almost every country in the world. Figure&nbsp;<a href="#fig:views" data-reference-type="ref" data-reference="fig:views">1</a> shows the historical accumulation of views for the HPC course. I taught this course for 3 semesters at UTSA and am preparing to teach a similar course in the Spring of 2017 to PGE students.</p>
<div id="fig:views" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="./figs/views.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Historical <em>daily</em> views of HPC course YouTube channel</figcaption>
</figure>
</div>
<p>I believe this serves as a avenue for reputation enhancement, through others familiarizing themselves with my expertise on this topic and seeking out my other contributions in research, etc. Additionally, it creates a lasting catalogue of valuable reference material for my own students and researchers as well as other students at UT.</p>
<p>This flipped-classroom format may not be appropriate for all classes; however, I firmly believe in providing the students a <em>menu</em> of options for learning, especially when technology can provide this at little or no time-cost to me. In the classroom, when delivering traditional lectures I use a tablet peripheral interface to my laptop, where I can either develop lecture notes from scratch on blank paper or I can annotate prepared material in real-time. This makes the transition to prepared slides, demos, videos, web-based materials, or live-coding on the laptop during the lecture seamless. While delivering the lecture, I wear a microphone and screen-capture my computer desktop while simultaneously projecting to the screen in the lecture hall. At the end of class, I post the lecture notes developed in class along with a YouTube video of my lecture. <em>Every lecture is recorded</em> and available for the students future reference. I spend a little time post-producing the lecture videos to break-up the full lecture into 5–20 minutes topical segments. This post-production of the lectures makes it easier for the students to find the material they are interested in when reviewing for exams or working assignments. Additionally, this allows me to easily assemble an appropriately timed lecture in the advent of an absence in future semesters. Written comments from students over the years have overwhelmingly expressed gratitude for these reference videos and other materials, as not all students learn in the same manner, it provides a way to accommodate several different learning styles. I have used this methodology in several PGE courses at UT including PGE 379 Advanced Geomechanics<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, PGE 334 Reservoir Geomechanics<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>, and PGE 323M Reservoir Engineering III<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>. Like the HPC course described previously, these videos are being watched by students around the world and have views cumulatively exceeding 100K. Professors Maša Prodanović and Eric van Oort in the PGE Department have adopted and adapted parts of this methodology after discussions with me regarding the tools I use. Other professors have expressed interest in adopting these techniques, and the possibility of using some of these methods to prepare material for a future online Master of Science degree in PGE has been discussed, including at the PGE 2015 faculty retreat where I gave a live demonstration.</p>
<p>It has been my experience that many, if not most, engineering students are aided by visual learning tools and where appropriate I always try to incorporate these into my lectures. Figure&nbsp;<a href="#fig:newton" data-reference-type="ref" data-reference="fig:newton">[fig:newton]</a> shows an animated computer visualization of tangent lines being drawn and new approximations being computed as a Newton’s method nonlinear solver converges to a root. This is one of many similar such visual aides that I developed (i.e.&nbsp;wrote the <em>Mathematica</em> code) for a course on numerical methods<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>, these notebooks are currently being translated to an open-source interactive book<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>.</p>
<p>I prefer a grading procedure which emphasizes homework assignments and projects that include applications to real engineering problems that the personal computer is needed to solve. As a working engineer, it was a rare case to encounter a problem that could be easily solved analytically; therefore, the computer plays a vital role in the education of my students just as it would assist a working engineer. I would say the primary educational goal for every course I teach is for the students to become better programmer/problem solvers through the use of scientific computing. I force the students to write computer code for nearly every assignment by designing problems that require iteration or full-field and/or multiple parameter space visualizations that are too difficult or intractable to work by hand. I do not insist they use any particular language or engineering software toolbox, but rather emphasize choosing the right tool for the task by discussing the pro/cons regarding speed, algorithm robustness, and ease of programming with them. Begin proficient in several programming languages and engineering sofware packages (virtually all of the most commonly used ones) allows me to do this with ease. I emphasize good coding practices that make their codes easier to debug. I force them to solve verification problems, and to test their code so that they have confidence that the solutions they turn in are correct. I frequently live-code on my laptop in class to explain not only syntax, but the logic of programming which often is the logic of problem solving. I even discuss software <em>developer operations</em> such as agile, testing, and version control when appropriate. I have held ad hoc tutorials outside of class on such topics<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>. The students I have taught so far seem to respond well to these course designs, despite the common misconception that “engineers don’t like to code”. It’s possible that engineers do not recognize the full worth of programming when taught as a stand-alone subject, but when taught programming as part of the <em>art of problem solving</em>, nearly every student I have encountered develops an appreciation and they have expressed this in written comments during course evaluations.</p>
<p>I firmly believe that, just as no exceptions are ever made for engineering students who must use a slide-rule when preparing exam questions (i.e.&nbsp;it’s an expectation that all students have access to a scientific calculator), we have reached the time when the same philosophy should be applied with respect to the laptop computer. When teaching PGE 334 Advanced Geomechanics in the Spring of 2016, for the first time, I allowed students to use their personal or department provided laptops during exams. In this course, there are a class of problems which require using rotation matrices to perform multiple coordinate transformations for the solution. If the students are asked to solve these problems on an exam, an assessment of their performance is influence by how quickly they can type matrices into their calculators. This is not in anyway an assessment of their understanding. I allowed them to program the coordinate transformations and bring their codes with them to class. I even provided verification solutions so they could check that their code was working properly before the exam. They could simply use the code during the problem solution with little worry about making algebraic or typographic errors and allowing them to focus on their physical understanding of the problem. The overall grades on otherwise very similar exams improved dramatically from the previous semester when I taught this course.</p>
<p>Being formally trained as a mechanician, I have a very different background than a traditional petroleum engineer; however, it is my belief that this skill set adds tremendous value in a future where unconventional resources will play a large role in the petroleum industry. These unconventionals require extensive knowledge of geomechanics to efficiently and safely bring into production. Indeed PGE’s curriculum has already began to reflect this by adding both undergraduate and graduate courses in geomechanics over the last several years (i.e.&nbsp;PGE334 and PGE373, both of which I have taught). Additionally, my background in scientific computing and the numerical solution of PDE’s allowed me to seamlessly begin to teach courses in reservoir simulation (PGE323M).</p>
<p>I have always been rated highly in student evaluations. The worst instructor evaluation I have received was in PGE 334 Advanced Geomechanics during the Spring of 2015 (my first time teaching this course and the largest course I had ever taught at the time by a significant amount). The evaluation was a 3.4 which I improved to a 4.3 the next time I taught the course. I attribute the improvement to better preparation (second time teaching the course), a more knowledgable and efficient use of teaching assistants in a large class, as well as implementing new techniques, such as using laptops for exams as previously discussed. This improvement was in spite of requiring the students to program for every assignment, something they supposedly don’t like to do! Generally my instructor ratings are in the 4’s. Table&nbsp;<a href="#tab:summary" data-reference-type="ref" data-reference="tab:summary">1</a> provides a summary of my course and instructor ratings since becoming an assistant professor in the Fall of 2011.</p>
<p>With regard to assisting (primarily graduate) students in their learning process, I maintain an active weblog<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> of helpful tips and answered questions. Generally these are related to scientific computing topics. I try to maintain a philosophy where anytime I believe a student’s question will come up again in the future, I write a blog detailing the path forward as opposed to providing an individual answer. This has paid off numerous times where I can simply point the students to a blog post where I’ve already answered their specific or a similar question.</p>
<p>I believe I have demonstrated real innovation in the classroom, notably through the use of technology, and I was awarded the <em>2015 Society of Petroleum Engineers Faculty Innovative Teaching Award</em> in this regard. Another accomplishment I am very proud of, but is admittedly not completely my own, was for my Teaching Assistant for PGE 323M in Fall 2015, Nkemakonam Egboga, to be awarded the William S. Livingston Outstanding Graduate Student Academic Employee Award by the Graduate Student Assembly. This award, for which I prepared the nomination package, is given to <em>one graduate teaching assistant in the entire university</em>. Nkemakonam was the first PGE student and the first Cockrell School of Engineering student to ever be given this award.</p>
<p>Finally, I believe experience with these innovative approaches to teaching will give me an advantage if called on to participate in the PGE Departments forthcoming online MS program or The University of Texas System’s delivery of online or massively online courses, e.g.&nbsp;the edX program, something I would be interested in doing in the future.</p>
<div id="tab:summary">
<table class="table">
<caption>Summary of <em>Course-Instructor</em> Ratings</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Metric</strong></td>
<td style="text-align: center;"><strong>Value</strong></td>
<td></td>
</tr>
<tr class="even">
<td style="text-align: left;"></td>
<td style="text-align: center;"><strong>UT</strong></td>
<td>Total<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Total of students taught in organized courses</td>
<td style="text-align: center;"><strong>198</strong></td>
<td>363</td>
</tr>
<tr class="even">
<td style="text-align: left;">Average instructor evaluation for UG courses</td>
<td style="text-align: center;"><strong>3.9</strong></td>
<td>4.1</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Average instructor evaluation for Grad courses</td>
<td style="text-align: center;"><strong>4.5</strong></td>
<td>4.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">Average course evaluation for UG courses</td>
<td style="text-align: center;"><strong>3.8</strong></td>
<td>4.0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Average course evaluation for Grad courses</td>
<td style="text-align: center;"><strong>4.3</strong></td>
<td>4.4</td>
</tr>
</tbody>
</table>
</div>
<div id="tab:semster">
<table class="table">
<caption>Course Schedule by Semester with Number of Students Indicated</caption>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">UTSA<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a><span class="math inline">\(^{,}\)</span><a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th style="text-align: center;">UT-Austin<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Course</strong></td>
<td style="text-align: center;"><strong>F11</strong></td>
<td><strong>S12</strong></td>
<td><strong>F12</strong></td>
<td><strong>F13</strong></td>
<td><strong>S14</strong></td>
<td style="text-align: center;"><strong>F14</strong></td>
<td><strong>S15</strong></td>
<td><strong>F15</strong></td>
<td><strong>S16</strong></td>
</tr>
<tr class="even">
<td><strong>ME4603</strong></td>
<td style="text-align: center;">21</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td style="text-align: center;"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>ME6043</strong></td>
<td style="text-align: center;"></td>
<td>3</td>
<td></td>
<td></td>
<td>6</td>
<td style="text-align: center;"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><strong>ME4953/5013</strong></td>
<td style="text-align: center;"></td>
<td></td>
<td>39</td>
<td>48</td>
<td>48</td>
<td style="text-align: center;"></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><strong>PGE379</strong></td>
<td style="text-align: center;"></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td style="text-align: center;">13</td>
<td></td>
<td>14</td>
<td></td>
</tr>
<tr class="even">
<td><strong>PGE334</strong></td>
<td style="text-align: center;"></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td style="text-align: center;"></td>
<td>81</td>
<td></td>
<td>25</td>
</tr>
<tr class="odd">
<td><strong>PGE323M</strong></td>
<td style="text-align: center;"></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td style="text-align: center;"></td>
<td></td>
<td>65</td>
<td></td>
</tr>
</tbody>
</table>
</div>




<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><a href="http://johnfoster.pge.utexas.edu/HPC/video-lectures/" class="uri">http://johnfoster.pge.utexas.edu/HPC/video-lectures/</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><a href="http://johnfoster.pge.utexas.edu/PGE383-AdvGeomechanics/" class="uri">http://johnfoster.pge.utexas.edu/PGE383-AdvGeomechanics/</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><a href="http://johnfoster.pge.utexas.edu/PGE334-ResGeomechanics/" class="uri">http://johnfoster.pge.utexas.edu/PGE334-ResGeomechanics/</a><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p><a href="http://johnfoster.pge.utexas.edu/PGE323M-ResEngineeringIII/" class="uri">http://johnfoster.pge.utexas.edu/PGE323M-ResEngineeringIII/</a><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p><a href="https://github.com/johntfoster/numerical_methods_book/tree/master/mathematica_notebooks" class="uri">https://github.com/johntfoster/numerical_methods_book/tree/master/mathematica_notebooks</a><a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p><a href="https://github.com/johntfoster/numerical_methods_book/blob/master/TableofContents.ipynb" class="uri">https://github.com/johntfoster/numerical_methods_book/blob/master/TableofContents.ipynb</a><a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p><a href="http://johntfoster.github.io/posts/git-and-github-tutorial.html" class="uri">http://johntfoster.github.io/posts/git-and-github-tutorial.html</a><a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p><a href="http://johntfoster.github.io/" class="uri">http://johntfoster.github.io/</a><a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>ME4953/5013 was a co-listed graduate and undergraduate class. The majority of the students were graduate students and the course was taught as a graduate class, i.e.&nbsp;there were no special assignments or exceptions made for undergraduates in the course. The evaluations were performed together and combined so I used the results for this course only for the Grad course averages.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10"><p>My teaching workload was 1 course per semester for my first 2 years at UTSA<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11"><p>S13 was a teaching buyout<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12"><p>My teaching workload was 1 course per semester for my first year at UT-Austin<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>